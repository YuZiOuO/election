/*! updated; 11-06-2020 01:18 AM **/


Modulr.define("core.base:modules/airship",["require","jquery","utils/environment"],function(require,$){var siteId=require("utils/environment").getSiteId();return new function(){var ret,host;ret=!1,(host=window.location.host.split("."))&&!/static/.test(host[0])&&"foxnews"===siteId&&(ret=!0),ret&&(function(n,t,c,e,u){function i(n,t){for(var c=0;c<n.length;c++)d(n[c],t)}function o(n,t){return h?d(t,h):f?d(n,f):(n&&s.push(n),t&&p.push(t)),l}function d(t,c){n.setTimeout(function(){t(c)},0)}var f,h,s=[],p=[],l={then:o,catch:function(n){return o(!1,n)},_setup:function(n){try{f=n(u)}catch(t){return void i(p,h=t)}i(s,f)}};n.UA=l;var v=t.createElement("script");v.src="https://aswpsdkus.com/notify/v1/ua-sdk.min.js",v.async=!0,v.id="_uasdk",v.rel="UA",t.head.appendChild(v)}(window,document,0,0,{appKey:"qwWW0p5zTOi7jRDKUvbIWA",vapidPublicKey:"BDmy-Dj95ya8qY1KkM29OCNunG4Vpdjql8vg7SCS5Ta2YG9eecvD186_tUapd-C-omI9qrNW2MAi_RZuUHJloaA=",token:"MTpxd1dXMHA1elRPaTdqUkRLVXZiSVdBOmtJUTVpWnZsSjdIU3k1Q1FxRzllYVRMQTdlR0VhekFlVUFSWXVSUU4taDg"}),window.UA.then(function(sdk){var alreadyOptedIn=!1,ableToRegister=!1;sdk.hasOwnProperty("canRegister")&&null!==sdk.canRegister&&(ableToRegister=sdk.canRegister),sdk.hasOwnProperty("channel")&&null!==sdk.channel&&(alreadyOptedIn=sdk.channel.optedIn),ableToRegister&&!alreadyOptedIn&&function(sdk){if(!getCookie("_Push_NotificationOpt")&&getCookie("_Push_NotificationCount")){var articleCount=Math.floor(getCookie("_Push_NotificationCount"))/10;if(Number.isInteger(articleCount)&&0===$(".airshipPushNotify").length&&$(".wrapper")){$(".wrapper").append('<div class="popup-modal airshipPushNotify show">                          <div class="modal modal-airship">                              <a aria-label="Close Button" href="#" class="close">Close</a>                              <div class="content">                                  <img alt="Notification Helper Image" src="//static.foxnews.com/static/orion/styles/img/fox-news/airship/notify_helper.png">                                  <div class="info">                                      <h2 class="title">Would you like Fox News Breaking News Alerts on your desktop?</h2>                                      <span class="dek">Click "Sign Up" below! Your browser will ask you for permission. Just click "Allow" to enable alerts.</span>                                      <div class="choices">                                          <div class="button opt-out">                                            <a aria-label="Opt Out" href="#">Not Now</a>                                          </div>                                          <div class="button opt-in">                                            <a aria-label="Sign Up" href="#">Sign Up</a>                                          </div>                                      </div>                                  </div>                              </div>                          </div>                      </div>'),track("seen");var target=$(".airshipPushNotify"),content=target.find(".content"),hoverOver="";target.find("a.close").on("click",function(evt){evt.preventDefault(),target.removeClass("show"),createCookie("_Push_NotificationOpt"),track("out")}),content.hover(function(){hoverOver=!0},function(){hoverOver=!1}),$(".airshipPushNotify.show").on("click",function(){target&&target.hasClass("show")&&!hoverOver&&(target.removeClass("show"),createCookie("_Push_NotificationOpt"),track("out"))}),$(document).keyup(function(evt){27===evt.keyCode&&(target.removeClass("show"),createCookie("_Push_NotificationOpt"),track("out"))}),$(".modal-airship .opt-in").on("click",function(){target.removeClass("show"),createCookie("_Push_NotificationOpt"),track("in"),sdk.register()}),$(".modal-airship .opt-out").on("click",function(){target.removeClass("show"),createCookie("_Push_NotificationOpt"),track("out")})}}}(sdk)}));function getCookie(cname){for(var name=cname+"=",ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return!1}function createCookie(cname){var now=new Date;now.setTime(now.getTime()+864e5),document.cookie=cname+'="";expires='+now.toUTCString()+";path=/"}function track(val){require(["ISA"],function(ISA){ISA.track("airship-notify",{opted:val})})}}});
/*! updated; 11-06-2020 01:18 AM **/


Modulr.define("fox-news.elections.map.v2:helper",["require","lodash","config","modernizr"],function(require,_,config,Modernizr){var HAS_TOUCH=!!Modernizr.touchevents,CLICK_EVENT=HAS_TOUCH?"touchend":"mouseup",Helper={};return Helper.tranformDetails=function(bbox,width,height){bbox.width,bbox.height;function getDim(val){return[bbox.width*val,bbox.height*val]}for(var scaleY=height/bbox.height,scaleX=width/bbox.width,scale=bbox.width>bbox.height?scaleX:scaleY,dimScale=getDim(scale);dimScale[0]>width||dimScale[1]>height;)dimScale=getDim(scale-=.02);var dim,vals,diff,translateVal=[bbox.x*scale,bbox.y*scale];return vals=translateVal,diff=[width/2-(dim=dimScale)[0]/2,height/2-dim[1]/2],vals[0]=vals[0]-diff[0],vals[1]=vals[1]-diff[1],(translateVal=vals)[0]=-1*translateVal[0],translateVal[1]=-1*translateVal[1],{translateX:translateVal[0],translateY:translateVal[1],translate:translateVal.join(","),scale:scale}},Helper.log=function(){var args=Array.prototype.slice.call(arguments);args=["[FOX.Maps]"].concat(args);try{return console.log.apply(console,args)}catch(err){console.log(args)}},Helper.throwError=function(){var args=Array.prototype.slice.call(arguments);throw str=["[FOX.Maps]"].concat(args).join(" "),new Error(str)},Helper.randomizeArrayLengthPosition=function(len){for(var arr=[],rand=[],i=0;i<len;i++)arr.push(i);for(;0<arr.length;)if(1===arr.length)rand.push(arr.shift());else{var r=Helper.geenrateRandomNumber(0,arr.length-1),val=arr.splice(r,1)[0];rand.push(val)}return rand},Helper.geenrateRandomNumber=function(min,max){return Math.floor(Math.floor(Math.random()*(max-min)+1)+min)},Helper.hexToRgb=function(hex){hex=hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(m,r,g,b){return r+r+g+g+b+b});var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex),ret=hex;return result&&(ret="rgb("+[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)].join(", ")+")"),ret},Helper.isSplitState=function(code){return-1<_.indexOf(config.SPLIT_STATES,code)},Helper.isIESpecial=function(){return!("Microsoft Internet Explorer"!==navigator.appName&&!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv 11/))},Helper.isIE=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<window.navigator.appVersion.indexOf("Trident/")},Helper.isNotAndroid=function(){return-1===navigator.userAgent.toLowerCase().indexOf("android")},Helper.getAspectHeight=function(width,ratio){return ratio=ratio||[4,3],Math.round(width/ratio[0])*ratio[1]},Helper.getChartAspectHeight=function(width,ratio){return ratio=ratio||[2,1],Math.round(width/ratio[0])*ratio[1]},Helper.pointer=function(node,callback){function trigger(self,d){once||(once=!0,setTimeout(function(){once=!1},25),callback(self,d))}var once=!1;node.on("mouseup",function(d){trigger(this,d)}),HAS_TOUCH&&node.on(CLICK_EVENT,function(d){trigger(this,d)})},Helper.triggerEvent=function(type,node){function dispatch(evt){if(document.createEventObject)node.fireEvent(evt);else{var event=document.createEvent("HTMLEvents");event.initEvent(evt,!0,!0),node.dispatchEvent(event)}}"pointer"===type?(dispatch("mouseup"),dispatch(CLICK_EVENT)):dispatch(type)},Helper});
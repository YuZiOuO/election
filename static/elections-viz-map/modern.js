/* Updated: Sun Nov 01 2020 23:48:26 GMT+0000 (Coordinated Universal Time) */ 

parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QrJB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialDesktopState=exports.getState=exports.setState=exports.state=void 0;var t={root:null,nation:null,display:null,viewbox:null,last:null,cover:!0,current:null,desktop:!1,override:null,live:null,isLive:null,touchFlag:"",visible:!1};exports.state=t;var e=function(e,o){return t[e]=o};exports.setState=e;var o=function(e){return t[e]};exports.getState=o;var n=function(){e("viewbox",document.querySelector("#map > svg")),e("nation",document.getElementById("state-shapes")),e("origin","0 0 872 537"),e("controls",document.getElementById("controls")),t.viewbox.setAttribute("viewBox",t.origin),t.viewbox.querySelector("title").innerHTML=""};exports.initialDesktopState=n;
},{}],"v8uZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){var e="component-iframed.elections-viz-map";function t(){var t=event.data,o=e+".receiver",a=!(!t||!t.type)&&t.type,r=!(!t||!t.data)&&t.data;a===o&&r&&n()}function n(){var t=(document.getElementsByTagName("html")||document.getElementsByTagName("body"))[0].offsetHeight,n={type:o().uid||e,data:{event:"resize",data:t}};try{window.parent.postMessage(n,"*")}catch(a){console.log("error:",a)}}!function(e){var t,n=25,o="onorientationchange"in window?"orientationchange":"resize";function a(){clearTimeout(t),t=setTimeout(function(){e()},n)}window.addEventListener(o,function(){a(),"orientationchange"===o&&setTimeout(function(){a()},800)},!1)}(n);try{window.addEventListener("message",t,!1)}catch(r){window.attachEvent("onmessage",t)}function o(){for(var e={},t=(window.location.search.substr(1)||"").split("&"),n=0;n<t.length;n++){var o=t[n].split("="),r=o[0]||!1,i=o[1]||!1;r&&i&&(e[r]=a(i).toString())}return e}function a(e){return e=e.replace(/^\s+|\s$/g,""),e=(e=(e=(e=(e=decodeURIComponent(e)).replace(/\+/g," ")).replace(/\s+/g," ")).replace(/</g,"&lt;")).replace(/\>/g,"&gt;")}return function(){n()}}(),t=e;exports.default=t;
},{}],"T8rR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logging=exports.resizeWatcher=exports.toggleDesktopMobile=exports.checkForOverride=exports.determineTier=exports.getQueryVariable=exports.checkSendHeight=exports.checkElement=exports.rng=exports.deepClone=exports.formatNumber=exports.parseId=exports.padStart=exports.processResults=exports.throttle=exports.buildCandidateList=exports.sortForWinner=exports.checkParty=void 0;var t=require("./state"),e=r(require("./sender"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(e){var r=t.state.csv[e].slice(2),o=[];r.forEach(function(e,r,n){r%2<1&&void 0!==t.state.dict[e]&&o.push({candidate:"".concat(t.state.dict[e].candidate),votes:n[r+1]||0,party:"".concat(t.state.dict[e].party)||""})});var n=o.length>0?o.sort(function(t,e){return e.votes-t.votes}):null;return n&&n[0].votes>0?n[0].party:""};exports.checkParty=n;var s=function(t){return t.sort(function(t,e){return e.isWinner-t.isWinner})};exports.sortForWinner=s;var i=function(t){return t.map(function(t){var e=u(t.candidateNpid,"candidates","npid");return{party:e.partyCode,name:e,count:t.votes.count,percent:t.votes.percentage.toFixed(1),win:t.isWinner}})};exports.buildCandidateList=i;var a=function(t,e){var r=!1;return function(o){r||(r=!0,e(o),setTimeout(function(){r=!1},t))}};exports.throttle=a;var u=function(e,r,o){for(var n={},s=0;s<t.state.json[r].length;){if(t.state.json[r][s][o]===e){n=t.state.json[r][s];break}s++}return n};exports.processResults=u;var c=function(t,e){for(var r=String(t);r.length<(e||2);)r="0"+r;return r};exports.padStart=c;var p=function(t){var e=t.id.split("-");return e.length>1?e[1]:e[0]};exports.parseId=p;var d=function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};exports.formatNumber=d;var l=function t(e){var r,n,s;if("object"!==o(e)||null===e)return e;for(s in r=Array.isArray(e)?[]:{},e)n=e[s],r[s]=t(n);return r};exports.deepClone=l;var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*Math.floor(t-e))+e};exports.rng=v;var f=function(){return new Promise(function(t){requestAnimationFrame(t)})},x=function t(e){return null===document.querySelector(e)?f().then(function(){return t(e)}):Promise.resolve(!0)};exports.checkElement=x;var g=function(){t.state.display||((0,e.default)(),(0,t.setState)("display",!0))};exports.checkSendHeight=g;var y=function(t,e){var r=e.substring(1).split("&").find(function(e){return e.includes("".concat(t,"="))});return r?r.split("=")[1]:null};exports.getQueryVariable=y;var h=function(t){var e={dev:"dev-",stage:"stage-",localhost:"dev-"},r=t.hostname.split("-")[0];return e[r]?e[r]:""};exports.determineTier=h;var m=function(e){var r="election_day"===y("mode",e);(0,t.setState)("override",r)};exports.checkForOverride=m;var b=function(){var e=parent.document.body.clientWidth>768?"desktop":"mobile";t.state.root.setAttribute("data-display",e)};exports.toggleDesktopMobile=b;var S=function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t(),window.addEventListener("resize",a(150,t))};exports.resizeWatcher=S;var k=function(e){("stage-"===t.state.tier||"dev-"===t.state.tier)&&console.log(e)};exports.logging=k;
},{"./state":"QrJB","./sender":"v8uZ"}],"WMsY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.grabSvg=void 0;var e=require("./state"),r=function(e){return fetch(e).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml").querySelector("svg")})};exports.grabSvg=r;
},{"./state":"QrJB"}],"TCAN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stateDefinitions=void 0;var s={al:{pos:"514 316 203 246",name:"Alabama",ev:9,last:"r",status:null,pre:null,tz:"ET",fips:"01"},ak:{pos:"-22 387 282 231",name:"Alaska",ev:3,last:"r",status:null,pre:null,tz:"ET",fips:"02"},az:{pos:"62 260 248 283",name:"Arizona",ev:11,last:"r",status:null,pre:null,tz:"ET",fips:"04"},ar:{pos:"439 293 153 95",name:"Arkansas",ev:6,last:"r",status:null,pre:null,tz:"ET",fips:"05"},ca:{pos:"-187 123 423 426",name:"California",ev:55,last:"d",status:null,pre:null,tz:"ET",fips:"06"},co:{pos:"198 186 198 136",name:"Colorado",ev:9,last:"d",status:null,pre:null,tz:"ET",fips:"08"},ct:{pos:"751 113 97 152",name:"Connecticut",ev:7,last:"d",status:null,pre:null,tz:"ET",fips:"09"},de:{pos:"739 183 67 134",name:"Delaware",ev:3,last:"d",status:null,pre:null,tz:"ET",fips:"10"},dc:{pos:"714 187 82 133",name:"District Of Columbia",ev:3,last:"d",status:null,pre:null,tz:"ET",fips:"11"},fl:{pos:"582 393 224 166",name:"Florida",ev:29,last:"r",status:null,pre:null,tz:"ET",fips:"12"},ga:{pos:"578 309 172 223",name:"Georgia",ev:16,last:"r",status:null,pre:null,tz:"ET",fips:"13"},hi:{pos:"221 457 156 106",name:"Hawaii",ev:4,last:"d",status:null,pre:null,tz:"ET",fips:"15"},id:{pos:"21 14 277 312",name:"Idaho",ev:4,last:"r",status:null,pre:null,tz:"ET",fips:"16"},il:{pos:"449 163 206 253",name:"Illinois",ev:20,last:"d",status:null,pre:null,tz:"ET",fips:"17"},in:{pos:"518 172 168 219",name:"Indiana",ev:11,last:"r",status:null,pre:null,tz:"ET",fips:"18"},ia:{pos:"412 137 151 100",name:"Iowa",ev:6,last:"r",status:null,pre:null,tz:"ET",fips:"19"},ks:{pos:"325 215 163 117",name:"Kansas",ev:6,last:"r",status:null,pre:null,tz:"ET",fips:"20"},ky:{pos:"535 218 162 115",name:"Kentucky",ev:8,last:"r",status:null,pre:null,tz:"ET",fips:"21"},la:{pos:"462 368 146 96",name:"Louisiana",ev:8,last:"r",status:null,pre:null,tz:"ET",fips:"22"},me:{pos:"750 2 165 220",name:"Maine",ev:4,last:"d",status:null,pre:null,tz:"ET",fips:"23"},md:{pos:"699 177 106 63",name:"Maryland",ev:10,last:"d",status:null,pre:null,tz:"ET",fips:"24"},ma:{pos:"769 102 88 45",name:"Massachusetts",ev:11,last:"d",status:null,pre:null,tz:"ET",fips:"25"},mi:{pos:"466 46 229 272",name:"Michigan",ev:16,last:"r",status:null,pre:null,tz:"ET",fips:"26"},mn:{pos:"354 28 222 265",name:"Minnesota",ev:10,last:"d",status:null,pre:null,tz:"ET",fips:"27"},ms:{pos:"472 322 181 232",name:"Mississippi",ev:6,last:"r",status:null,pre:null,tz:"ET",fips:"28"},mo:{pos:"427 209 173 118",name:"Missouri",ev:10,last:"r",status:null,pre:null,tz:"ET",fips:"29"},mt:{pos:"134 5 220 170",name:"Montana",ev:3,last:"r",status:null,pre:null,tz:"ET",fips:"30"},ne:{pos:"296 150 178 132",name:"Nebraska",ev:5,last:"r",status:null,pre:null,tz:"ET",fips:"31"},nv:{pos:"-28 148 280 315",name:"Nevada",ev:6,last:"d",status:null,pre:null,tz:"ET",fips:"32"},nh:{pos:"739 43 136 187",name:"New Hampshire",ev:4,last:"d",status:null,pre:null,tz:"ET",fips:"33"},nj:{pos:"733 149 99 162",name:"New Jersey",ev:14,last:"d",status:null,pre:null,tz:"ET",fips:"34"},nm:{pos:"170 281 208 255",name:"New Mexico",ev:5,last:"d",status:null,pre:null,tz:"ET",fips:"35"},ny:{pos:"674 69 172 122",name:"New York",ev:29,last:"d",status:null,pre:null,tz:"ET",fips:"36"},nc:{pos:"638 243 166 127",name:"North Carolina",ev:15,last:"r",status:null,pre:null,tz:"ET",fips:"37"},nd:{pos:"301 25 159 109",name:"North Dakota",ev:3,last:"r",status:null,pre:null,tz:"ET",fips:"38"},oh:{pos:"581 156 148 203",name:"Ohio",ev:18,last:"r",status:null,pre:null,tz:"ET",fips:"39"},ok:{pos:"318 268 185 139",name:"Oklahoma",ev:7,last:"r",status:null,pre:null,tz:"ET",fips:"40"},or:{pos:"-33 48 212 150",name:"Oregon",ev:7,last:"d",status:null,pre:null,tz:"ET",fips:"41"},pa:{pos:"671 138 127 85",name:"Pennsylvania",ev:20,last:"r",status:null,pre:null,tz:"ET",fips:"42"},ri:{pos:"797 117 54 121",name:"Rhode Island",ev:4,last:"d",status:null,pre:null,tz:"ET",fips:"44"},sc:{pos:"643 299 125 78",name:"South Carolina",ev:9,last:"r",status:null,pre:null,tz:"ET",fips:"45"},sd:{pos:"298 88 166 116",name:"South Dakota",ev:3,last:"r",status:null,pre:null,tz:"ET",fips:"46"},tn:{pos:"524 241 180 133",name:"Tennessee",ev:11,last:"r",status:null,pre:null,tz:"ET",fips:"47"},tx:{pos:"202 300 393 299",name:"Texas",ev:38,last:"r",status:null,pre:null,tz:"ET",fips:"48"},ut:{pos:"90 166 203 250",name:"Utah",ev:6,last:"r",status:null,pre:null,tz:"ET",fips:"49"},vt:{pos:"737 61 101 164",name:"Vermont",ev:3,last:"d",status:null,pre:null,tz:"ET",fips:"50"},va:{pos:"633 192 170 124",name:"Virginia",ev:13,last:"d",status:null,pre:null,tz:"ET",fips:"51"},wa:{pos:"16 -14 160 109",name:"Washington",ev:12,last:"d",status:null,pre:null,tz:"ET",fips:"53"},wv:{pos:"627 184 143 198",name:"West Virginia",ev:5,last:"r",status:null,pre:null,tz:"ET",fips:"54"},wi:{pos:"450 74 171 222",name:"Wisconsin",ev:10,last:"r",status:null,pre:null,tz:"ET",fips:"55"},wy:{pos:"161 99 194 131",name:"Wyoming",ev:3,last:"r",status:null,pre:null,tz:"ET",fips:"56"},"s-me-01-bg":{status:null,pre:null},"s-me-02-bg":{status:null,pre:null},"s-ne-01-bg":{status:null,pre:null},"s-ne-02-bg":{status:null,pre:null},"s-ne-03-bg":{status:null,pre:null}};exports.stateDefinitions=s;
},{}],"x4O5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.candidateList=void 0;var e={2020:{dem:{img:"joe-biden",name:"Joe Biden"},rep:{img:"donald-trump",name:"Donald Trump"}},2016:{dem:{img:"hillary-clinton",name:"Hillary Clinton"},rep:{img:"donald-trump",name:"Donald Trump"}},2012:{dem:{img:"barack-obama",name:"Barack Obama"},rep:{img:"mitt-romney",name:"Mitt Romney"}}};exports.candidateList=e;
},{}],"rWEf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showTooltip=d,exports.initTooltip=exports.bindCountyListeners=exports.bindToolTip=exports.throttleCounty=exports.throttleState=exports.tooltipExit=exports.tooltipEnter=exports.sortedCounty=exports.countyData=exports.buildCountyCandidate=exports.calculatePercent=exports.stateData=exports.buildBalance=exports.countyTable=exports.stateTable=exports.updateTip=exports.updateTipState=exports.tooltipParty=exports.bindToCursor=exports.buildTip=void 0;var t=require("./state"),e=require("./utilities"),n=require("./processSources"),a=require("./stateDefinitions"),i=require("./candidates");function r(t){return p(t)||c(t)||o(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function c(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(t){var e=document.body,n=e.clientWidth,a=e.clientHeight,i=t.target.classList.contains("tooltip")?t.target:t.target.querySelector(".tooltip");i.style.left=t.pageX+i.clientWidth+10<n?t.pageX+10+"px":n+5-i.clientWidth+"px",i.style.top=t.pageY+i.clientHeight+10<a?t.pageY+10+"px":a+5-i.clientHeight+"px"}var u=function(t){var e=document.createElement("div");e.id="tooltip",e.classList.add("tip"),e.setAttribute("data-dir",""),t.appendChild(e)};exports.buildTip=u;var v=function(t,e){var n=e.x,a=e.y;t.dataset.dir="".concat(a).concat(n)},f=function(e){var n=t.state.tip.el,a={x:null,y:null};n.style.left="".concat(e.pageX,"px"),n.style.top="".concat(e.pageY,"px"),e.pageX+n.offsetWidth+16>t.state.root.offsetWidth?a.x="w":a.x="e",e.pageY+n.offsetHeight>t.state.root.offsetHeight?a.y="n":a.y="s",v(n,a)};exports.bindToCursor=f;var m=function(t,e){for(var n="",a=0;a<e.length;a++)e[a].candidate==t&&(n=e[a].party);return n};exports.tooltipParty=m;var _=function(t,e){return{county:function(){return"tip tip__polls--closed"},state:function(){return["tip",t.winner?"tip__called--".concat(t.winner.toLowerCase()):"",t.pollState?"tip__polls--".concat(t.pollState):""].join(" ")}}[e]()},g=function(t){var e=t.status,n=t.pollState;return e?"tip__polls--".concat(n):""},y=function(e,n){var a=t.state.visible?" show":"";t.state.tip.el.setAttribute("class",["null","initial","uncalled"].includes("".concat(e.status))?"tip ".concat("undecided"===e.status?"tip__undecided":""," ").concat(g(e)," ").concat(a):_(e,n)+a),t.state.tip.el.setAttribute("data-contested",e.contested)};exports.updateTipState=y;var x=function(t){var e=t.last,n=t.location;return!!e&&a.stateDefinitions[e].name===n},b=function(e,n,a){var i=JSON.stringify(e),r=x({last:t.state.last&&t.state.last.id||null,location:e.location});t.state.current===i||r||(y(e,a),t.state.tip.el.innerHTML=n(e)),(0,t.setState)("current",i)};exports.updateTip=b;var h={null:{percent:"—",votes:"—",balance:"empty",reporting:"",polls:"open"},pre:{percent:"—",votes:"—",balance:"empty",reporting:"",polls:"open"},initial:{percent:"0%",votes:"0",balance:"empty",reporting:"Reporting 0% in",polls:"close"},open:{polls:"close",ofDay:"pm"},uncalled:{pollstate:"open",polls:"close"},undecided:null,off:null,called:{},closed:{}},L=function(e){return"//a57.foxnews.com/".concat(t.state.tier,"static.foxnews.com/static/orion/styles/img/fox-news/elections/headshots/72/72/").concat(i.candidateList[t.state.year][e].img,".png?ve=1&amp;tl=1")},S=function(n){var a="Reporting ".concat(n.reporting,"% in");return n.dem.percent+="%",n.rep.percent+="%",["null","initial"].includes(n.status)&&(n.dem.percent=h[n.status].percent,n.rep.percent=h[n.status].percent,n.dem.votes=h[n.status].votes,n.rep.votes=h[n.status].votes,n.balance="",a=h[n.status].reporting),'\n  <div class="tip__title">\n    <div class="tip__state">'.concat(n.location,'<span class="tip__flip"></span></div>\n    <div class="tip__ev">').concat(n.ev,'</div>\n  </div> \n  <div class="tip__row">\n    <div class="tip__candidate">\n    <img src="').concat(L("dem"),'" class="tip__image tip__image--d" alt="').concat(i.candidateList[t.state.year].dem.name,'" />\n      <div class="tip__info">\n        <div class="tip__person">').concat(i.candidateList[t.state.year].dem.name,'</div>\n        <div class="tip__percent tip__percent--d">').concat(n.dem.percent,'</div>\n      </div>\n    </div>\n    <div class="tip__candidate flex-reverse">\n      <img src="').concat(L("rep"),'" class="tip__image tip__image--r" alt="').concat(i.candidateList[t.state.year].rep.name,'" />\n      <div class="tip__info">\n        <div class="tip__person align-right">').concat(i.candidateList[t.state.year].rep.name,'</div>\n        <div class="tip__percent tip__percent--r align-right">').concat(n.rep.percent,'</div>\n      </div>\n    </div>\n  </div> \n  <div class="tip__balance">').concat(n.balance,'</div>\n  <div class="tip__row">\n    <div class="tip__votes--d">').concat((0,e.formatNumber)(n.dem.votes),'</div>\n    <div class="tip__votes--r">').concat((0,e.formatNumber)(n.rep.votes),'</div>\n  </div>\n  <div class="tip__row tip__polls">\n    <div class="tip__time ').concat(t.state.isLive?"":"opacity-zero",'">').concat(n.polls,'</div>\n    <div class="tip__reporting">').concat(a,"</div>\n  </div>\n  ")};exports.stateTable=S;var w=function(t){var n=["null","initial"].includes(t.status)?h[t.status].reporting:"Reporting ".concat(t.reporting,"% in");return'\n  <div class="tip__title">\n    <div class="tip__state">'.concat(t.location,"</div>\n  </div>\n  ").concat(t.candidates.map(function(n){return(a=n).percent+="%",["null","initial"].includes(t.status)&&(a.votes=h[t.status].votes,a.percent=h[t.status].percent),'\n    <div class="tip__row">\n      <div class="tip__name" data-party="'.concat(a.party,'">').concat(a.name,'</div>\n      <div class="tip__votes">').concat((0,e.formatNumber)(a.votes),'</div>\n      <div class="tip__pcnt">').concat(a.percent,"</div>\n    </div>\n    ");var a}).join(""),'\n  <div class="tip__row tip__polls">\n    <div class="tip__time county"></div>\n    <div class="tip__reporting">').concat(n,"</div>\n  </div>\n  ")};exports.countyTable=w;var C=function(t){var e={d:0,i:0,g:0,o:0,r:0};return t.forEach(function(t){var n=t.party.toLowerCase();Object.keys(e).indexOf(n)>-1?e[n]+=parseFloat(t.percent):e.o+=parseFloat(t.percent)}),Object.keys(e).reduce(function(t,n){return t+(e[n]>0?'<div class="tip__balance--'.concat(n,'" style="width: ').concat(e[n].toFixed(1),'%"></div>'):"")},"")};exports.buildBalance=C;var T=function(n){return n.map(function(n){var a=(0,e.processResults)(n.candidateNpid,"candidates","npid");return{party:m(a.lastName,t.state.dict)||a.partyCode,name:a,count:n.votes.count,percent:n.votes.percentage.toFixed(1),win:n.isWinner}})},E=function(t,e){var n=t.find(function(t){return(t.party||t.name.partyCode)===e});return{party:n.party,name:"".concat(n.name.firstName," ").concat(n.name.lastName),votes:n.count,percent:n.percent}},A=function(n){if(t.state.json&&t.state.dict){var a=(0,e.processResults)((0,e.parseId)(n.target).toUpperCase(),"stateResults","stateCode"),i=a.results,r=a.stateCode,s=a.expectedPercentage;if(i){var o=T(i),c=r.toLowerCase(),p=o.find(function(t){return t.win}),l={location:t.state.definitions[c].name,ev:"".concat(t.state.definitions[c].ev," votes"),dem:E(o,"D"),rep:E(o,"R"),polls:t.state.definitions[c].pollString,pollState:"".concat(t.state.definitions[c].pollStatus),winner:!!p&&p.party,balance:C(o),flipped:null,status:"".concat(t.state.definitions[c].status),reporting:s,contested:t.state.definitions[c].contested};t.state.tip.target=n.target,(t.state.cover||n.target.id.length>2||"ak"===n.target.id)&&b(l,S,"state")}}};exports.stateData=A;var R=function(t,e){return(e/t*100).toFixed(1)};exports.calculatePercent=R;var j=function(t){var e=t.finalResults,n=t.improvedResults,a={0:[{name:"Trump",votes:0,percent:"0",party:"R"},{name:"Biden",votes:0,percent:"0",party:"D"}],1:[].concat(r(e),[n[1]])};return e.length<2?a[e.length]:e},O=function(e){var n=e.results,a=e.parties,i=e.totalVotes,r=n.map(function(e){var n=m(e.name,t.state.dict);return e.percent=R(i,e.votes),e.party=a.indexOf(n.toLowerCase())>-1?n:"O",e}),s=r.filter(function(t){return parseInt(t.percent)>=10});return j({finalResults:s,improvedResults:r})},D=function(t){var e=t.reduce(function(t,e){return t+e.votes},0);return O({results:t,parties:["d","i","g","o","r"],totalVotes:e}).map(function(t){return{party:t.party,name:t.name,votes:t.votes,percent:t.percent}})};exports.buildCountyCandidate=D;var q=function(e){var n=t.state.csv[e.target.getAttribute("data-index")],a=N(n),i=(e.target.getAttribute("data-name").split(" ")[1],e.target.getAttribute("data-state")),r=e.target.getAttribute("data-status"),s={location:t.state.nameMap[e.target.id],candidates:D(a),polls:t.state.definitions[i].pollString,status:"".concat(r),state:i,reporting:n[1]};t.state.tip.target=e.target,b(s,w,"county")};exports.countyData=q;var N=function(e){var n=[];return e.slice(2).forEach(function(e,a,i){a%2<1&&void 0!==t.state.dict[e]&&n.push({name:t.state.dict[e].candidate,votes:i[a+1]})}),n.sort(function(t,e){return e.votes-t.votes})};exports.sortedCounty=N;var I=function(e,n){if(!e.includes("FIPS")){var a=t.state.nation.querySelector("#".concat(e));a&&a.setAttribute("data-hover",n)}},P=function(e){t.state.tip.el.classList.add("show"),(0,t.setState)("visible",!0),e.target.dataset.name&&I(e.target.dataset.name,!0)};exports.tooltipEnter=P;var F=function(e){t.state.tip.el.classList.remove("show"),(0,t.setState)("visible",!1),e.target.dataset.name&&I(e.target.dataset.name,!1)};exports.tooltipExit=F;var H=function(t){r(t.querySelectorAll("path")).forEach(function(t){t.addEventListener("mouseenter",P),t.addEventListener("mouseleave",F)})},W=(0,e.throttle)(100,A);exports.throttleState=W;var B=(0,e.throttle)(100,q);exports.throttleCounty=B;var M=function(t,e,n){t.addEventListener("mouseenter",P,!1),t.addEventListener("mouseleave",F,!1),t.addEventListener("mousemove",W,!1),n.addEventListener("mouseenter",P,!1),n.addEventListener("mouseleave",F,!1),n.addEventListener("mousemove",W,!1),H(e)};exports.bindToolTip=M;var X=function(t){t.addEventListener("mouseenter",P,!1),t.addEventListener("mouseleave",F,!1),t.addEventListener("mousemove",B,!1)};exports.bindCountyListeners=X;var Y=function(e){u(e),(0,t.setState)("tip",{el:document.getElementById("tooltip"),target:null}),e.addEventListener("mousemove",f,!1),M(t.state.nation,t.state.electoralText,t.state.smallStates)};exports.initTooltip=Y;
},{"./state":"QrJB","./utilities":"T8rR","./processSources":"pAm9","./stateDefinitions":"TCAN","./candidates":"x4O5"}],"RcwH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timestampSource=exports.sourceByYear=exports.sourceLocations=void 0;var e=require("./utilities"),t=require("./state"),s=function(s){var c="zero"===(0,e.getQueryVariable)("tier",window.location.search)?"0":t.state.plan;(new Date).getTime();return{states:"svg/map-states-electoral.svg",counties:"svg/map-counties-electoral.svg",pre:"https://".concat(t.state.adminTier,"feeds-elections.foxnews.com/archive/politics/elections/2020/1/admin-general.json"),polls:"https://".concat(t.state.adminTier,"feeds-elections.foxnews.com/archive/politics/elections/2020/1/admin-general.json"),csv:"https://".concat(s,"feeds-elections.foxnews.com/archive/politics/elections/2020/").concat(c,"/President/county-level-results/feed_slimmer.csv"),json:"https://".concat(s,"feeds-elections.foxnews.com/archive/politics/elections/2020/").concat(c,"/2020_Generals/President/national_summary_results/file.json"),names:"https://".concat(s,"feeds-elections.foxnews.com/archive/politics/elections/2020/").concat(c,"/President/county-level-results/county_fips.csv")}};exports.sourceLocations=s;var c=function(e){return{json:"https://".concat(t.state.tier,"feeds-elections.foxnews.com/archive/politics/elections/").concat(e,"/3/").concat(e,"_Generals/President/national_summary_results/file.json"),csv:"https://".concat(t.state.tier,"feeds-elections.foxnews.com/archive/politics/elections/").concat(e,"/3/President/county-level-results/feed_slimmer.csv")}};exports.sourceByYear=c;var o=function(e){var t=(new Date).getTime();return"".concat(e,"?cb=").concat(t)};exports.timestampSource=o;
},{"./utilities":"T8rR","./state":"QrJB"}],"bvAn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadYear=exports.bindObject=exports.addAnimationElement=exports.mapReset=exports.zoomReset=exports.zoomState=exports.setView=exports.displayLoader=exports.toggleMaps=exports.toggleState=exports.checkForSvg=exports.clickToggle=void 0;var t=require("./state"),e=require("./utilities"),a=require("./grabSvg"),o=require("./processSources"),s=require("./tooltip"),i=require("./sourceLocations"),r=function(t){var a,o;t.preventDefault(),t.target.parentNode.id.indexOf("-counties")>-1?(a=t.target.dataset.state,o=document.getElementById(a)):(a=(0,e.parseId)(t.target),o=document.getElementById(a)),d(a),l(o)};exports.clickToggle=r;var n=function(e,i,r){t.state.counties?i(r):(c(!0),(0,a.grabSvg)(e).then(function(e){var a=e.getElementById("counties-shapes");t.state.viewbox.insertBefore(a,t.state.nation.parentNode),(0,t.setState)((0,t.setState)("counties",a)),(0,o.bindCountyData)(t.state.csv),(0,s.bindCountyListeners)(t.state.counties),x(t.state.counties)}).then(function(){c(!1),i(r)}))};exports.checkForSvg=n;var l=function(e){if("ak"!=e.id){var a=(0,t.getState)("last");a&&(a.style.fill=""),e.style.fill="none",(0,t.setState)("last",e)}};exports.toggleState=l;var u=function(){t.state.map.classList.toggle("empty"),(0,t.setState)("cover",!t.state.cover)};exports.toggleMaps=u;var c=function(e){t.state.loader.setAttribute("class",e?"":"hide")};exports.displayLoader=c;var p=function(e){var a=t.state.animation.getAttribute("values").split(";")[1],o="".concat(a,"; ").concat(e);t.state.animation.setAttribute("values",o),void 0===t.state.animation.beginElement?console.log("does not support beginElement()"):t.state.animation.beginElement()};exports.setView=p;var d=function(e){p(t.state.definitions[e].pos),t.state.viewbox.classList.add("zoom"),t.state.controls.classList.add("zoom"),!t.state.touchFlag.includes("FIPS")&&t.state.tip.el.classList.remove("show")};exports.zoomState=d;var g=function(e){e.preventDefault(),p(t.state.origin),t.state.viewbox.classList.remove("zoom"),t.state.controls.classList.remove("zoom"),(0,t.setState)("touchFlag","")};exports.zoomReset=g;var v=function(e){e.preventDefault();var a=(0,t.getState)("last");a&&(a.style.fill=""),(0,t.setState)("last",null),g(e)};exports.mapReset=v;var m=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","animate");e.setAttributeNS(null,"id","ani"),e.setAttributeNS(null,"attributeName","viewBox"),e.setAttributeNS(null,"values","".concat(t.state.origin,"; ").concat(t.state.origin)),e.setAttributeNS(null,"dur","0.2s"),e.setAttributeNS(null,"fill","freeze"),t.state.viewbox.appendChild(e),(0,t.setState)("animation",e)};exports.addAnimationElement=m;var f=function(e){t.state.tip.el.setAttribute("data-pointer",e.pointerType),"touch"===e.pointerType&&(0,s.tooltipEnter)(e),"mouse"!==e.pointerType&&e.target.id!==t.state.touchFlag||n(t.state.locations.counties,r,e),(0,t.setState)("touchFlag",e.target.id)},S=function(e){t.state.tip.el.setAttribute("data-pointer",e.pointerType),"touch"===e.pointerType&&(0,s.tooltipEnter)(e),"mouse"!==e.pointerType&&e.target.id!==t.state.touchFlag||r(e),(0,t.setState)("touchFlag",e.target.id)},x=function(t){t.onpointerdown=S},b=function(e){var a=e.getElementById("state-shapes"),o=e.getElementById("small-states-2");(0,t.setState)("electoralText",e.getElementById("electoral-votes")),(0,t.setState)("smallStates",e.getElementById("small-states-2")),m(),a.onpointerdown=f,o.onpointerdown=f};exports.bindObject=b;var y=function(){(0,o.fullDataGrab)(),t.state.root.setAttribute("data-live","true"),toggleLiveData(!0)},h=function(e){t.state.root.setAttribute("data-live","false"),(0,t.setState)("historicalSource",(0,i.sourceByYear)(e)),(0,o.historicalDataGrab)(t.state.historicalSource),toggleLiveData(!1)},w=function(e){var a="2020"===e;(0,t.setState)("year",e),a?y():h(e)};exports.loadYear=w;
},{"./state":"QrJB","./utilities":"T8rR","./grabSvg":"WMsY","./processSources":"pAm9","./tooltip":"rWEf","./sourceLocations":"RcwH"}],"AaNN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillGrad=void 0;var e=require("./state"),l=require("./utilities"),n={D:"dem","D-pre":"dem","D-called":"dem","D-uncalled":"dem-lean",LD:"dem-lean","LD-pre":"dem-lean",R:"rep","R-pre":"rep","R-called":"rep","R-uncalled":"rep-lean",LR:"rep-lean","LR-pre":"rep-lean",I:"ind","I-pre":"ind","I-called":"ind","I-uncalled":"ind-lean",LI:"ind-lean","LI-pre":"ind-lean",G:"green","G-pre":"green","G-called":"green","G-uncalled":"green-lean",LG:"green-lean","LG-pre":"green-lean",O:"other","O-pre":"other","O-called":"other","O-uncalled":"other-lean",LO:"other-lean","LO-pre":"other-lean",B:"battle","B-pre":"battle","C-called":"battle","C-uncalled":"battle",pre:"#fff",null:"#fff","-null":"#fff","null-null":"#fff"},r={me:{large:[0,1,6,7],"01":[2,3,8,9],"02":[4,5,10,11]},ne:{large:[0,1,8,9,16,17],"01":[2,3,10,11,18,19],"02":[4,5,12,13,20,21],"03":[6,7,14,15,22,23]}},a=function(a,t,d){(0,l.checkElement)("#grad-".concat(a)).then(function(){r[a][t].forEach(function(l){e.state["grad".concat(a)].children[l].setAttribute("class",n[d])})})};exports.fillGrad=a;
},{"./state":"QrJB","./utilities":"T8rR"}],"FETD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.populateDesktop=exports.checkForDesktop=exports.buildPreDesktopView=exports.populatePreData=exports.buildDesktopView=void 0;var t=require("./grabSvg"),e=require("./state"),a=require("./events"),s=require("./tooltip"),r=require("./utilities"),o=require("./processSources"),n=require("./gradient"),i=function(t){(0,e.setState)("gradme",t.querySelector("#grad-me")),(0,e.setState)("gradne",t.querySelector("#grad-ne"))},c=function(){(0,a.displayLoader)(!0),(0,t.grabSvg)(e.state.locations.states).then(function(t){return(0,a.displayLoader)(!1),e.state.map.appendChild(t),(0,e.setState)("desktop",!0),t}).then(function(t){i(e.state.map),(0,e.initialDesktopState)(),(0,a.bindObject)(t),(0,s.initTooltip)(e.state.root),e.state.mql.matches&&(0,o.initialDataGrab)(e.state.polls),(0,r.checkSendHeight)()})};exports.buildDesktopView=c;var u=function(t){Object.keys(t).forEach(function(e){var a={stateCode:e,party:t[e]};h(a)})};exports.populatePreData=u;var p=function(s){(0,a.displayLoader)(!0),(0,t.grabSvg)(e.state.locations.states).then(function(t){(0,a.displayLoader)(!1),e.state.map.appendChild(t),i(e.state.map),(0,e.initialDesktopState)(),(s||e.state.preData)&&u(e.state.preData),(0,e.setState)("desktop",!0)}),(0,r.checkSendHeight)()};exports.buildPreDesktopView=p;var d=function(t){var a="pre"===e.state.pageType?p:c;t.matches&&!e.state.desktop&&a(!0)};exports.checkForDesktop=d;var l=function(t){var a=t.stateCode.toLowerCase();return e.state.definitions[a]&&e.state.definitions[a].status?e.state.definitions[a].status:null},f=function(t,e,a,s){var r="pre"===a&&("D"===e||"R"===e);t&&(a||r)&&t.setAttribute("data-party",e),t&&(a||r)&&t.setAttribute("data-status",a)},b=function(t,e,a,s){t&&t.setAttribute("data-party",a),t&&t.setAttribute("data-status",s),t&&f(e,a,s,t.id)},y=function(t,e,a){var s=document.getElementById(t),r=document.querySelector('[data-name="'.concat(t,'"]')),o=document.querySelector('[id*="bubble-'.concat(t,'"]')),n="null"===a?"":e;b(s,r,n,a),o&&o.setAttribute("data-party",n),o&&o.setAttribute("data-status",a)},m=function(t,a,s){var r=t.split("-")[1],o=t.split("-")[2],i=document.getElementById(t);i&&i.setAttribute("data-party",a),i&&i.setAttribute("data-status",s),(0,n.fillGrad)(r,o,"".concat(a,"-").concat(s)),e.state.map.setAttribute("data-".concat(r,"-").concat(o),s)},g=function(t,a,s){var r=document.getElementById(t),o=document.querySelector('[data-name="'.concat(t,'"]')),i=document.getElementById("overall-".concat(t,"-bg"));b(r,o,a,s),i&&i.setAttribute("data-party",a),i&&i.setAttribute("data-status",s),(0,n.fillGrad)(t,"large","".concat(a,"-").concat(s)),e.state.map.setAttribute("data-".concat(t,"-large"),s)},v=function(t,e,a){t.length>2?m(t,e,a):g(t,e,a)},k=function(t){return e.state.definitions[t].contested?"C":"".concat(e.state.definitions[t].party)},D=function(t){return"".concat(e.state.definitions[t].party)},S=function(t){var a=e.state.isLive?k(t):D(t);return"pre"===e.state.pageType?"".concat(e.state.preData[t]):a.toUpperCase()},h=function(t){var a=t.stateCode.toLowerCase().split("-"),s=S(t.stateCode.toLowerCase()||t),r="pre"===e.state.pageType?"pre":l(t);a.includes("ne")||a.includes("me")?v(t.stateCode.toLowerCase(),s,r):y(t.stateCode.toLowerCase(),s,r)};exports.populateDesktop=h;
},{"./grabSvg":"WMsY","./state":"QrJB","./events":"bvAn","./tooltip":"rWEf","./utilities":"T8rR","./processSources":"pAm9","./gradient":"AaNN"}],"yt1J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNode=void 0;var e=function(e){var t=document.createElement(e.type);return e.classes&&e.classes.forEach(function(e){t.classList.add(e)}),e.attr&&e.attr.forEach(function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),e.childElement&&e.childElement.forEach(function(e){return t.appendChild(e)}),e.element=t,t};exports.buildNode=e;
},{}],"hREZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.populateMobile=exports.buildPreMobileView=exports.buildMobileView=void 0;var e=require("./buildNode"),t=require("./state"),i=require("./utilities"),a=require("./events"),s=require("./processSources"),o=function(e){return{type:"a",classes:["mobile-state","m-".concat(e.toLowerCase())],attr:[{name:"href",value:"/elections/2020/general-results/state/".concat(t.state.definitions[e].name.toLowerCase())}],innerHTML:'<div class="mobile-state__data">\n        <div class="mobile-state__name">'.concat(e.toUpperCase(),'</div>\n        <div class="mobile-state__ev">').concat(t.state.definitions[e].ev,"</div>\n      </div>")}},n=function(t){return{parent:"m-".concat(t.split("-")[1]),el:(0,e.buildNode)({type:"div",classes:["mobile-district","".concat(t)],innerHTML:'<div class="mobile-district__circle"></div>'})}},r=function(e,t){t.querySelector(".".concat(e.parent)).appendChild(e.el)},c=function(t){var i=[],a=Object.keys(t).reduce(function(t,a){return 2===a.length?t.push((0,e.buildNode)(o(a))):i.push(n(a)),t},[]);return{districtMap:i,mobileMap:a}},l=function(){(0,t.setState)("mobile",document.getElementById("mobile"));var a=(0,e.buildNode)({type:"div",classes:["state-grid"]}),o=c(t.state.definitions),n=o.mobileMap,l=o.districtMap;n.forEach(function(e){return a.appendChild(e)}),l.forEach(function(e){return r(e,a)}),t.state.mobile.appendChild(a),!t.state.mql.matches&&(0,s.initialDataGrab)(t.state.polls),(0,i.checkSendHeight)()};exports.buildMobileView=l;var d=function(e){l(),Object.keys(e).forEach(function(t){var i={stateCode:t,party:e[t]?e[t].toLowerCase():""};C(i)}),(0,a.displayLoader)(!1),(0,i.checkSendHeight)()};exports.buildPreMobileView=d;var u=function(e,t){return{el:document.querySelector(".m-".concat(e.stateCode.toLowerCase())),class:"mobile-state--".concat(t)}},p=function(e,t){return{el:document.querySelector(".".concat(e.stateCode)),class:"mobile-district--".concat(t)}},b=function(e){return t.state.definitions[e].contested?"C":"".concat(t.state.definitions[e].party)},f=function(e){return"".concat(t.state.definitions[e].party)},v=function(e){var i=t.state.isLive?b(e):f(e);return"pre"===t.state.pageType?"".concat(t.state.preData[e]):i.toUpperCase()},m=function(e){var t=e.getAttribute("class").split(" ").slice(0,2).join(" ");e.setAttribute("class",t)},C=function(e){var i=v(e.stateCode.toLowerCase()||e).toLowerCase(),a=2===e.stateCode.length?u(e,i):p(e,i),s="pre"===t.state.pageType?"pre":t.state.definitions[e.stateCode.toLowerCase()].status;m(a.el),s&&(a.el.classList.add(a.class),a.el.classList.add(s))};exports.populateMobile=C;
},{"./buildNode":"yt1J","./state":"QrJB","./utilities":"T8rR","./events":"bvAn","./processSources":"pAm9"}],"pAm9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleLiveData=exports.initData=exports.processPre=exports.initialDataGrab=exports.grabPreData=exports.historicalDataGrab=exports.partialDataGrab=exports.fullDataGrab=exports.processPolls=exports.processSummary=exports.grabJson=exports.processCSV=exports.bindCountyData=exports.getStatus=exports.processNamesCSV=void 0;var t=require("./state"),e=require("./utilities"),n=require("./buildDesktop"),r=require("./buildMobile"),o=require("./events"),a=require("./stateDefinitions"),s=require("./tooltip"),i=require("./sourceLocations");function u(t){return f(t)||p(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function p(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h={leaningDem:"LD",rep:"R",dem:"D",green:"G",battleground:"B",leaningRep:"LR",default:"",other:"O",ind:"I",contested:"C"},m=function(t,e){var n=e.header,r=e.separator,o=[],a=t.split(/(?!\B"[^"]*)\n(?![^"]*"\B)/g);return a.forEach(function(t,e){var s=t.split(r),i=[];a.length-1!==e&&(!n&&0!==e||n)&&(s.forEach(function(t){var e=y(t),n=Number.isNaN(e)?t:e;i.push(n)}),o.push(i))}),o},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={header:!1!==e.header,type:e.type||"array",separator:e.separator||","};return g(t,n),m(t,n)},y=function(t){if("string"!=typeof t)throw new Error("value has to be typeof: 'string' but got typeof: '".concat(v(t),"'"));if(Number.isNaN(Number(t)))return NaN;var e=parseFloat(t);return e%1==0?parseInt(t,10):e},g=function(t,e){var n=e.separator;if("string"!=typeof t)throw new Error("data has to be typeof: ".concat(v("")," but got typeof: ").concat(v(t)));if(!t.includes(n))throw new Error("data does not include separator: ".concat(n))},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"array",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";return fetch(t).then(function(t){return t.text()}).then(function(t){return b(t,{type:e,separator:n})})},x=function(n){S(n).then(function(n){for(var r={},o=1;o<n.length;o++){r["FIPS_".concat((0,e.padStart)(n[o][1],2)).concat((0,e.padStart)(n[o][2],3))]=n[o][3]}(0,t.setState)("nameMap",r);var a=t.state.isLive?(0,i.timestampSource)(t.state.locations.csv):t.state.historicalSource.csv;L((0,i.timestampSource)(a))})};exports.processNamesCSV=x;var D=function(t,e,n){if(!isNaN(t))return{index:t,candidate:n[e+1],party:n[e+2]?n[e+2].trim():""}},C=function(e,n){return"null"===t.state.definitions[e].status?"null":100===n?"called":"uncalled"};exports.getStatus=C;var w=function(e){var n=e.substring(0,2);return Object.keys(t.state.definitions).find(function(e){return t.state.definitions[e].fips&&t.state.definitions[e].fips===n&&e})},j=function(t){t.forEach(function(t,n){if(n>0){var r=t[0].toString().length<5?"0"+t[0]:t[0].toString(),o=document.getElementById("FIPS_"+r),a=w(r);o&&(o.setAttribute("data-index",n),o.setAttribute("data-reported",t[1]),o.setAttribute("data-party",(0,e.checkParty)(n).trim()),o.setAttribute("data-status",C(a,t[1])),o.setAttribute("data-state",a))}})};exports.bindCountyData=j;var L=function(e){S(e).then(function(e){(0,t.setState)("csv",e),(0,t.setState)("dict",(0,t.getState)("csv")[0].map(D).filter(function(t){return void 0!==t})),t.state.counties&&j((0,t.getState)("csv"))})};exports.processCSV=L;var P=function(t){return fetch(t).then(function(t){return t.json()}).then(function(t){return t})};exports.grabJson=P;var E=function(n){if("pre"===t.state.pageType)return n.party;var r=null,o=(0,e.sortForWinner)(n.results),a=(0,e.buildCandidateList)(n.results).find(function(t){return t.win});if(a)r=a.party;else{var s=t.state.json.candidates.find(function(t){return t.npid===o[0].candidateNpid&&o[0].votes.count>0});r=s?s.partyCode.toLowerCase():null}return r},N=function(n){var r=n.split("-")[1],o=t.state.json.stateResults.find(function(t){return t.stateCode===r.toUpperCase()}).results;return{winner:(0,e.sortForWinner)(o).isWinner,poll:t.state.definitions[r].pollStatus}},A=function(t,n){var r=t.pollStatus,o=t.stateCode,a=(0,e.sortForWinner)(n)[0].isWinner;o.length>2&&(r=N(o).poll);return a?"called":r?"uncalled":"null"},I=function(e){var n=e.stateCode,r=e.expectedPercentage,o=e.isFlipped,a=e.results,s=t.state.definitions[n.toLowerCase()];s&&(s.stateCode=n.toLowerCase()),s&&(s.reported=r),s&&(s.party=E(e)),s&&(s.flipped=o),s&&(s.status=A(s,a))},k=function(t){var e=t.split(" ")[1]||"large",n=t.split("-")[0];return"large"===e.toLowerCase()?n:"s-".concat(n.toLowerCase(),"-0").concat(e,"-bg")},q=function(t){return t.map(function(t){var e=t.stateCode.split("-");return t.stateCode="NE"===e[0]||"ME"===e[0]?k(t.stateCode):t.stateCode,t})},G=function(e){var a=e.stateResults,s=e.candidates;(0,o.displayLoader)(!1);var i={candidates:s,stateResults:q(u(a))};(0,t.setState)("json",i),t.state.json.stateResults.forEach(function(e){I(e),t.state.mql.matches&&(0,n.populateDesktop)(e),(0,r.populateMobile)(e)})};exports.processSummary=G;var O=function(t){return t.toLocaleString("en-US",{hour:"numeric",hour12:!0}).toLocaleLowerCase().split(" ").join("")},F=function(t,e,n){var r=O(new Date(t.open)),o=O(new Date(t.close));return{"01":"Polls open at ".concat(r," ").concat(n),10:"Polls are closed",11:"Polls close at ".concat(o," ").concat(n)}[e]},R=function(t){var e=new Date,n=t.open?new Date(t.open):null,r=t.close?new Date(t.close):null;return n&&r?"".concat(+(e>n)).concat(+(e<r)):null},M=function(e){Object.keys(t.state.definitions).forEach(function(n){if(2===n.length){var r=e&&e[n]?R(e[n]):null;t.state.definitions[n].pollStatus={"01":null,10:"closed",11:"open"}[r],t.state.definitions[n].pollString=F(t.state.polls[n],r,t.state.definitions[n].tz)}})},V=function(e){var n=e.states,r={},o={};Object.keys(n).forEach(function(t){var e=t.toLowerCase();r[e]=n[t].pollTimes,o[e]=n[t].fips,a.stateDefinitions[e]&&(a.stateDefinitions[e].contested=n[t].contested),a.stateDefinitions[e]&&(a.stateDefinitions[e].history=n[t].votingHistory)}),(0,t.setState)("polls",r||{}),(0,t.setState)("fips",o||{}),M(t.state.polls)};exports.processPolls=V;var W=function(t){!!t&&!t.id.includes("FIPS_")&&(0,s.stateData)({target:t})},_=function(){fetch((0,i.timestampSource)(t.state.locations.polls)).then(function(t){return t.json()}).then(function(e){return V(e),fetch((0,i.timestampSource)(t.state.locations.json))}).then(function(t){return t.json()}).then(function(e){G(e),x((0,i.timestampSource)(t.state.locations.names)),null===t.state.live&&K(!0)}).then(function(){t.state.desktop&&W(t.state.tip.target)})};exports.fullDataGrab=_;var B=function(){fetch((0,i.timestampSource)(t.state.locations.json)).then(function(t){return t.json()}).then(function(e){G(e),x((0,i.timestampSource)(t.state.locations.names)),null===t.state.live&&K(!0)})};exports.partialDataGrab=B;var z=function(e){fetch((0,i.timestampSource)(e.json)).then(function(t){return t.json()}).then(function(e){G(e),x((0,i.timestampSource)(t.state.locations.names))})};exports.historicalDataGrab=z;var T=function(){fetch((0,i.timestampSource)(t.state.locations.pre)).then(function(t){return t.json()}).then(function(t){J(t)})};exports.grabPreData=T;var U=function(t){return t?B():_()};exports.initialDataGrab=U;var J=function(e){var o=e.presidentbar&&e.presidentbar.states?e.presidentbar.states:null,a={};Object.keys(o).forEach(function(t){if(!["PR","VI"].includes(t)){var e=t.split("-"),n=e.length>1?"s-".concat(e[0].toLowerCase(),"-0").concat(e[1],"-bg"):e[0].toLowerCase();a[n]=h[o[t].partyCode]}}),(0,t.setState)("preData",a),(0,r.buildPreMobileView)(a),(0,n.populatePreData)(a)};exports.processPre=J;var H=function(t){return new Promise(function(e,n){var r=t.map(function(t){return fetch(t.url)});Promise.all(r).then(function(n){n.forEach(function(e,n){e.json().then(function(e){t[n].callback(e)})}),e()})})};exports.initData=H;var $=function(){return setInterval(function(){(0,e.logging)("--- updating viz-map data --- "),_()},15e3)},K=function(n){(0,e.logging)("viz-map live data: ".concat(n)),n?t.state.live=$():clearInterval(t.state.live),(0,t.setState)("isLive",n),t.state.root.setAttribute("data-live","".concat(n))};exports.toggleLiveData=K;
},{"./state":"QrJB","./utilities":"T8rR","./buildDesktop":"FETD","./buildMobile":"hREZ","./events":"bvAn","./stateDefinitions":"TCAN","./tooltip":"rWEf","./sourceLocations":"RcwH"}],"cyJr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildControls=void 0;var e=require("./events"),t=require("./state"),a={zoom:'<div class="zoom-row">\n            <div class="map-toggle">\n              <input id="countyToggle" type="checkbox">\n              <label for="countyToggle" title="Toggle states and counties">\n                <div class="map-toggle__switch" data-checked="Counties" data-unchecked="States"></div>\n              </label>\n            </div>\n        </div>\n        <button class="map-reset">Zoom Out</button>',select:'<label for="mapYears" class="select__years--label">\n            <select name="mapYears" id="mapYears" class="select__years" aria-label="Choose Year">\n              <option value="2020">2020 Live</option>\n              <option value="2016">2016</option>\n            </select>\n          </label>'},o=function(t){t.target.value&&(0,e.loadYear)(t.target.value)},n=function(){var a=document.querySelector("#countyToggle"),n=document.querySelector(".map-reset");a.addEventListener("click",function(a){return(0,e.checkForSvg)(t.state.locations.counties,e.toggleMaps,a)}),n.addEventListener("click",e.mapReset);var s=document.getElementById("mapYears");s&&s.addEventListener("change",o)},s=function(){var e=document.getElementById("controls");e.insertAdjacentHTML("beforeend",a.zoom),t.state.hasHistorical?e.insertAdjacentHTML("afterbegin",a.select):e.setAttribute("class","FTS-page"),n()};exports.buildControls=s;
},{"./events":"bvAn","./state":"QrJB"}],"vBmm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.determinePageType=void 0;var e=require("./state"),t=require("./processSources"),i=require("./controls"),r=require("./buildMobile"),s=require("./buildDesktop"),a=require("./utilities"),o=u(require("./sender"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){(0,i.buildControls)(),(0,e.setState)("mql",window.matchMedia("(min-width: 720px)")),(0,e.setState)("isLive",!0),e.state.mql.matches?(0,s.buildDesktopView)():e.state.mql.addListener(s.checkForDesktop),(0,r.buildMobileView)(),(0,o.default)()},l=function(){(0,t.grabPreData)(),(0,e.setState)("mql",window.matchMedia("(min-width: 720px)")),e.state.mql.matches?(0,s.buildPreDesktopView)():e.state.mql.addListener(s.checkForDesktop),(0,o.default)()},n=function(t){(0,e.setState)("year","2020"),"pre"===t?l():d()};exports.determinePageType=n;
},{"./state":"QrJB","./processSources":"pAm9","./controls":"cyJr","./buildMobile":"hREZ","./buildDesktop":"FETD","./utilities":"T8rR","./sender":"v8uZ"}],"BN4N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.poweredByCheck=void 0;var e=require("./utilities"),t=require("./processSources"),n=require("./state"),r=function(t,n){return t||!t&&n===(0,e.determineTier)(window.location)},o=function(o){var i=(new Date).getTime(),s=o?"stage-":(0,e.determineTier)(window.location),c="//".concat(s,"feeds-elections.foxnews.com/archive/politics/elections/2020/1/admin-general.json?cb=").concat(i);return fetch(c).then(function(e){return e.json()}).then(function(o){var i=o.generalsettings,c=!!i.powerByStage;return(0,n.setState)("plan",i.outagePlan||3),(0,n.setState)("adminTier",c?s:(0,e.determineTier)(window.location)),r(c,s)&&(0,t.processPolls)(o),c})};exports.poweredByCheck=o;
},{"./utilities":"T8rR","./processSources":"pAm9","./state":"QrJB"}],"H99C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.index=exports.buildComponent=void 0;var e=require("./modules/state"),t=require("./modules/initPage"),o=require("./modules/stateDefinitions"),i=require("./modules/utilities"),a=require("./modules/sourceLocations"),s=require("./modules/poweredBy"),r=require("./modules/processSources"),n=function(){(0,e.setState)("root",document.getElementById("app")),(0,e.setState)("loader",document.getElementById("loader"));var o=document.createElement("div");o.id="map",(0,e.setState)("map",o),e.state.root.appendChild(e.state.map),(0,t.determinePageType)(e.state.pageType)};exports.buildComponent=n;var d=function(t){(0,e.setState)("tier",t?"stage-":(0,i.determineTier)(window.location)),(0,e.setState)("locations",(0,a.sourceLocations)(e.state.tier)),n()},u=function(){document.body.setAttribute("class",window.legacyMap?"isLegacy":"notLegacy"),(0,e.setState)("override","election_day"===(0,i.getQueryVariable)("mode",window.location.search)),(0,e.setState)("pageType",(0,i.getQueryVariable)("pageType",window.location.search)),(0,e.setState)("hasHistorical",(0,i.getQueryVariable)("hasHistorical",window.location.search)),(0,e.setState)("definitions",o.stateDefinitions),window.state=e.state,window.toggleLiveData=r.toggleLiveData,(0,s.poweredByCheck)(e.state.override).then(function(e){d(e)})};exports.index=u;
},{"./modules/state":"QrJB","./modules/initPage":"vBmm","./modules/stateDefinitions":"TCAN","./modules/utilities":"T8rR","./modules/sourceLocations":"RcwH","./modules/poweredBy":"BN4N","./modules/processSources":"pAm9"}],"cikc":[function(require,module,exports) {
"use strict";var e=require("./src/index");(0,e.index)();
},{"./src/index":"H99C"}]},{},["cikc"], null)
//# sourceMappingURL=modern.js.map